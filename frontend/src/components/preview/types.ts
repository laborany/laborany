/* ╔══════════════════════════════════════════════════════════════════════════╗
 * ║                      Artifact Preview 类型定义                            ║
 * ║                                                                          ║
 * ║  设计哲学：用 Map 映射消除 switch/case，让类型自然流动                        ║
 * ╚══════════════════════════════════════════════════════════════════════════╝ */

/* ┌──────────────────────────────────────────────────────────────────────────┐
 * │                           文件分类                                        │
 * └──────────────────────────────────────────────────────────────────────────┘ */
export type FileCategory =
  | 'html'
  | 'image'
  | 'code'
  | 'markdown'
  | 'pdf'
  | 'audio'
  | 'video'
  | 'excel'
  | 'docx'
  | 'pptx'
  | 'font'
  | 'binary'

/* ┌──────────────────────────────────────────────────────────────────────────┐
 * │                           预览限制常量                                    │
 * └──────────────────────────────────────────────────────────────────────────┘ */
export const MAX_PREVIEW_SIZE = 50 * 1024 * 1024  // 50MB

/* ┌──────────────────────────────────────────────────────────────────────────┐
 * │                           PPTX 幻灯片类型                                 │
 * └──────────────────────────────────────────────────────────────────────────┘ */
export interface PptxSlide {
  index: number
  title: string
  content: string[]
  imageUrl?: string
}

/* ┌──────────────────────────────────────────────────────────────────────────┐
 * │                           文件 Artifact                                   │
 * └──────────────────────────────────────────────────────────────────────────┘ */
export interface FileArtifact {
  name: string
  path: string
  category: FileCategory
  ext: string
  size?: number
  url: string
  content?: string
}

/* ┌──────────────────────────────────────────────────────────────────────────┐
 * │                           组件 Props                                      │
 * └──────────────────────────────────────────────────────────────────────────┘ */
export interface PreviewProps {
  artifact: FileArtifact | null
  onClose: () => void
}

export interface RendererProps {
  artifact: FileArtifact
}
